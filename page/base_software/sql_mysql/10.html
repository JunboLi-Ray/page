改表，可能修改每个块很慢。若策略为建新表，则锁表很慢，最好分库分表。
删表，若内存中有缓存且不为随机读取，因为sql内存较大，会出现删除慢。
sql有缓存。

高并发可以用乐观锁和版本号

commit用日志，日志和数据库有版本号，先写日志，不一致就改库